!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var s={addItem:(e,t)=>(e.items.push(t),e),clearItem:(e,t)=>(e.items.splice(t.index,1),e)};class o{constructor(){this.events={}}subscribe(e,t){let n=this;return n.events.hasOwnProperty(e)||(n.events[e]=[]),n.events[e].push(t)}publish(e,t={}){return this.events.hasOwnProperty(e)?this.events[e].map(e=>e(t)):[]}}class i{constructor(e){let t=this;t.actions={},t.mutations={},t.state={},t.status="resting",t.events=new o,e.hasOwnProperty("actions")&&(t.actions=e.actions),e.hasOwnProperty("mutations")&&(t.mutations=e.mutations),t.state=new Proxy(e.state||{},{set:function(e,n,s){return e[n]=s,console.log(`stateChange: ${n}: ${s}`),t.events.publish("stateChange",t.state),"mutation"!==t.status&&console.warn(`You should use a mutation to set ${n}`),t.status="resting",!0}})}dispatch(e,t){return"function"!=typeof this.actions[e]?(console.error(`Action "${e} doesn't exist.`),!1):(console.groupCollapsed(`ACTION: ${e}`),this.status="action",this.actions[e](this,t),console.groupEnd(),!0)}commit(e,t){if("function"!=typeof this.mutations[e])return console.log(`Mutation "${e}" doesn't exist`),!1;this.status="mutation";let n=this.mutations[e](this.state,t);return this.state=Object.assign(this.state,n),!0}}var r=new i({actions:{addItem(e,t){e.commit("addItem",t)},clearItem(e,t){e.commit("clearItem",t)}},mutations:s,state:{adjL:{nodes:{triggerOne:{id:"triggerOne",type:"trigger",text:"Patient with no visit in last 12 months & no visit scheduled in next 2 months",outdegree:1,indegree:0,coonectedNodes:["actionOne"]},actionOne:{id:"actionOne",type:"action",text:"Call Patient",outdegree:1,indegree:1,coonectedNodes:["ifThenOne"]},ifThenOne:{id:"ifThenOne",type:"ifThen",outdegree:2,indegree:1,coonectedNodes:["filterOne","actionRight"]},filterOne:{id:"filterOne",type:"filter",text:"No. of reattemps <= 3",outdegree:1,indegree:1,coonectedNodes:["actionOne","actionLeft"]},actionLeft:{id:"actionLeft",type:"action",text:"Send Voicemail",outdegree:0,indegree:1,coonectedNodes:[]},actionRight:{id:"actionRight",type:"action",text:"Play voice message & record the response",outdegree:0,indegree:1,coonectedNodes:[]}}},items:["I made this","Another thing"]}});class a{constructor(e={}){let t=this;this.render=this.render||function(){},e.store instanceof i&&e.store.events.subscribe("stateChange",()=>t.render()),e.hasOwnProperty("element")&&(this.element=e.element)}}const c=document.querySelector(".js-form"),u=document.querySelector("#new-item-field");document.querySelector("#btn");btn.addEventListener("click",(function(e){console.log("Button Clicked")})),c.addEventListener("submit",e=>{e.preventDefault();let t=u.value.trim();t.length&&(r.dispatch("addItem",t),u.value="",u.focus())});const l=new class extends a{constructor(){super({store:r,element:document.querySelector(".js-count")})}render(){let e=1!==r.state.items.length?"s":"",t=r.state.items.length>0?"ðŸ™Œ":"ðŸ˜¢";this.element.innerHTML=`\n            <small>You've done</small>\n            <span>${r.state.items.length}</span>\n            <small>thing${e} today ${t}</small>\n        `}},d=new class extends a{constructor(){super({store:r,element:document.querySelector(".js-items")})}render(){let e=this;0!==r.state.items.length?(e.element.innerHTML=`\n            <div class="app__items">\n                ${r.state.items.map(e=>'\n\t\t\t\t\t\t<div class="node-card">\n\n\t\t\t\t\t\t</div>\n                    ').join("")}\n            </div>\n        `,e.element.querySelectorAll("button").forEach((e,t)=>{e.addEventListener("click",()=>{r.dispatch("clearItem",{index:t})})})):e.element.innerHTML='<p class="no-items">You\'ve done nothing yet ðŸ˜¢</p>'}},m=new class extends a{constructor(){super({store:r,element:document.querySelector(".js-status")})}render(){let e=1!==r.state.items.length?"s":"";this.element.innerHTML=`${r.state.items.length} item${e}`}};l.render(),d.render(),m.render()}]);
//# sourceMappingURL=app.js.map